---
layout: simplepage
title: "Security Advisories"
section: security
---

:ruby
  advisories_dir = File.expand_path(File.dirname(__FILE__) + '/advisory')
  pages_by_path = site.pages.map { |p| [p.source_path, p] }.to_h
  adocs = Dir.glob(File.join(advisories_dir, '*.{ad,adoc}'))
  years = adocs.select { |it| it =~ /(20\d\d)/ }.map { |it| /(20\d\d)/.match(it)[1] }.uniq.sort

.container
  .row
    %p
      This page lists all security advisories that have been published so far.

  - years.reverse_each do |year|
    .row
      .container
        .row
          %h3
            = year
        .row
          %ul
            - advisories = Dir.glob(File.join(advisories_dir, year + '-*.{ad,adoc}'))
            - advisories.sort.reverse_each do |advisory|
              - page = pages_by_path[advisory]
              %li
                %a{:href => expand_link(page.url)}
                  = page.title
                  - if page.kind
                    = "(#{page.kind})"
                - if page.issues && year == '2018'
                  %br
                  %small
                    %ul{:style => 'padding-left: 10px;'}
                      - if page.core
                        %li
                          Jenkins (core)
                      - plugins = page.issues.collect { |issue| issue.plugins }.flatten.uniq.keep_if { |p| p }.sort { |x,y| site._generated[:update_center].plugins[x.name].title <=> site._generated[:update_center].plugins[y.name].title }
                      - if plugins.size > 0
                        %li
                          Included Plugins:
                          - plugins.each_with_index do | plugin, idx |
                            %a{:href => 'https://plugins.jenkins.io/' + plugin.name, :style => 'white-space: nowrap; padding: 2px;'}
                              = site._generated[:update_center].plugins[plugin.name].title
